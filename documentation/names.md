# Spec Names vs. Metadata Names

Every object in PreQL must have a `.metadata.name` field. Some objects also
require a `.spec.name` field as well, whereas others do not. The use case for
the two differ from each other: in objects where `.spec.name` is required or
permitted, it is the actual identifier that will be given to an object in the
transpiled language (the target); this means that all referential integrity
checks shall be performed against the `.spec.name`s of the objects in question,
and not the `.metadata.name`. The `.metadata.name` shall be used everywhere
else.

Also, `.spec.name` must be unique when combined with names of parent objects,
such as a `Database` or `Struct` to form a "path." A "path" is a dot-delimited
identifier for an object in a database. Most SQL databases use a path starting
with the database name, then the table name, then the column name, for
instance. See `./source/Commands/getPath.ts`. `Attribute` `c` in `Struct` `b`
in `Database` `a` would have a path of `a.b.c`. Again, this must be unique
across all objects and character casing. This is done for portability. (It
is a small price to pay for knowing that path collisions will _never_ be a
problem in any target language.)

In all cases where uniqueness is a requirement, character casing will be
ignored, meaning that two identifiers that differ only in casing will not
be permitted. For insance, an object with a `.metadata.name` of `chimmy`
will collide with another object with a `.metadata.name` of `Chimmy`.

In summary, `.spec.name`:

- Is used for:
  - The actual identifier used in the resulting transpiled language.
  - Performing referential integrity checks, or something similar.
- Does not always have to be globally unique, depending on the type of object.
- Is not always required.

Whereas `.metadata.name`:

- Is used for:
  - Error messages generated by PreQL.
- Must form a globally-unique pair when combined with the `.kind` value.
  - In other words, you cannot have two `Attributes` with a `.metadata.name`
    of `floofy`, but you _may_ have an `Attribute` and a `Struct` both named
    `floofy`.
- Is always required.

Generally, `.spec.name` will be required when it is not an issue for two types
to conflict in name. For example, two `Attribute`s may have the same name as
long as they belong to separate `Struct`s, so `Attribute` uses a `.spec.name`
field.

## Conflicts

PreQL prohibits name collisions between `CharacterSet`, `Collation`, and
`Database`. This was done mostly out of my convenience as a developer, but it
has the benefit of simplicity. For that matter, it just seems unwise for
a database to have the same identifier as a character set or collation.

## Object Identifiers

Object Identifiers shall always be numeric dot-delimited format. In other
words, characters other than number or periods shall never appear in an
object identifier used by PreQL. All object identifiers shall be absolute,
not relative.
