transpileTo: mariadb
objects:
  - apiVersion: 1.0.0
    kind: Interface
    metadata:
      name: person
    spec:
      columns:
        firstname:
          type: "varchar"
          length: 64
          default: "Bob"
          comment: "Should not be abbreviated"
          nullable: True
        lastname:
          type: "varchar"
          length: 64
          default: "McGobb"
  - apiVersion: 1.0.0
    kind: Database
    metadata:
      name: floofy
    spec:
      name: floofy
      collation: utf8
  - apiVersion: 1.0.0
    kind: Struct
    metadata:
      name: people
    spec:
      name: person
      databaseName: floofy
  # - apiVersion: 1.0.0
  #   kind: Struct
  #   metadata:
  #     name: pets
  #     labels:
  #       schema: dbo
  #       table: pets
  #       entity: pet
  #     annotations:
  #       comment: "A big ol dang table of pets"
  #   spec: {}
  - apiVersion: 1.0.0
    kind: Attribute
    metadata:
      name: firstName
      annotations:
        comment: "Should not be abbreviated"
    spec:
      name: firstName
      structName: person
      databaseName: floofy
      type: varchar
      length: 64
      nullable: False
      default: Bob
      casing: upper
  - apiVersion: 1.0.0
    kind: Attribute
    metadata:
      name: lastName
      annotations:
        comment: "Should not be abbreviated"
    spec:
      name: lastName
      structName: person
      databaseName: floofy
      type: varchar
      length: 64
      nullable: False
      default: McGobb
      casing: upper
  - apiVersion: 1.0.0
    kind: PrimaryIndex
    metadata:
      name: important
      annotations:
        comment: "Ogres are like onions."
    spec:
      name: important
      structName: person
      databaseName: floofy
      keyColumns:
      - name: firstName
        ascending: True
      - name: lastName
  - apiVersion: 1.0.0
    kind: ForeignKeyConstraint
    metadata:
      name: owner
    spec:
      # name: owner
      childTable: pets
      childKey:
        - columnName: ownerFirstName
        - columnName: ownerLastName
      parentTable: people
      parentKey:
        - columnName: firstName
        - columnName: lastName